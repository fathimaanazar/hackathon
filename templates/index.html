<!DOCTYPE html>
<html>
<head>
    <title>StudyFlow - Smart Study Planner</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

<div class="container mt-5">

    <div class="card shadow-lg p-4">
        <h2 class="text-center text-primary mb-4">
            ðŸ“š StudyFlow - Smart Study Planner
        </h2>

        <form action="/generate" method="POST">

            <!-- Exam Date & Daily Hours -->
            <div class="row mb-4">
                <div class="col">
                    <label class="form-label">Exam Date</label>
                    <input type="date"
                           class="form-control"
                           name="exam_date"
                           min="{{ today }}"
                           required>
                </div>

                <div class="col">
                    <label class="form-label">Daily Study Hours</label>
                    <input type="number"
                           class="form-control"
                           name="daily_hours"
                           required>
                </div>
            </div>

            <!-- Subjects Section -->
            <h5 class="mt-4">Subjects</h5>

            <div id="subjects-container">

                <div class="row mb-3 subject-row">
                    <div class="col">
                        <input type="text"
                               class="form-control"
                               name="subject"
                               placeholder="Subject Name"
                               required>
                    </div>

                    <div class="col">
                        <input type="number"
                               class="form-control"
                               name="difficulty"
                               placeholder="Difficulty (1-5)"
                               min="1" max="5"
                               required>
                    </div>

                    <div class="col">
                        <input type="number"
                               class="form-control"
                               name="syllabus"
                               placeholder="Syllabus Size"
                               required>
                    </div>

                    <div class="col-1">
                        <button type="button"
                                class="btn btn-danger"
                                onclick="removeRow(this)">
                            âœ•
                        </button>
                    </div>
                </div>

            </div>

            <!-- Add Subject Button -->
            <div class="text-end mb-3">
                <button type="button"
                        class="btn btn-outline-primary"
                        onclick="addSubject()">
                    + Add Subject
                </button>
            </div>

            <!-- Generate Button -->
            <div class="text-center mt-4">
                <button type="submit"
                        class="btn btn-success px-5">
                    Generate Plan
                </button>
            </div>

        </form>

    </div>

</div>

<!-- JavaScript -->
<script>
function addSubject() {
    const container = document.getElementById('subjects-container');

    const newRow = document.createElement('div');
    newRow.className = 'row mb-3 subject-row';

    newRow.innerHTML = `
        <div class="col">
            <input type="text" class="form-control"
                   name="subject"
                   placeholder="Subject Name"
                   required>
        </div>

        <div class="col">
            <input type="number" class="form-control"
                   name="difficulty"
                   placeholder="Difficulty (1-5)"
                   min="1" max="5"
                   required>
        </div>

        <div class="col">
            <input type="number" class="form-control"
                   name="syllabus"
                   placeholder="Syllabus Size"
                   required>
        </div>

        <div class="col-1">
            <button type="button"
                    class="btn btn-danger"
                    onclick="removeRow(this)">
                âœ•
            </button>
        </div>
    `;

    container.appendChild(newRow);
}

function removeRow(button) {
    const row = button.closest('.subject-row');
    row.remove();
}
</script>

</body>
</html>
